#include p16f84a.inc               ; Include register definition file
;_CONFIG _CP_OFF & _PWRITE_ON & _WDT_OF & _XT_OSC
   D1 EQU 0X0C
   D2 EQU 0X0D
   D3 EQU 0X0E

ORG 0
;	PORT B COMO SALIDA
	 BSF STATUS, RP0
	 CLRF PORTB
	 BCF STATUS, RP0

	 BCF PORTB, 0
	 BCF PORTB, 1
	 BCF PORTB, 2
	 BCF PORTB, 3
	 BCF PORTB, 4
	 BCF PORTB, 5
	 
	  INICIO
	  BSF PORTB,2 ;PRENDER ROJO 1
	  BSF PORTB,3 ;PRENDER VERDE 2
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  BCF PORTB,2 ;APAGAR ROJO 1
	  BCF PORTB,3 ;APAGAR VERDE 2
	  
	  BSF PORTB,2 ;PRENDER ROJO 1
	  BSF PORTB,4 ;PRENDER AMARILLO 2
	  CALL RETARDO
	  CALL RETARDO
	  BCF PORTB,2 ;APAGAR ROJO 1
	  BCF PORTB,4 ;APAGAR AMARILLO 2
	  
	  BSF PORTB,0 ; PRENDER VERDE 1
	  BSF PORTB,5 ; PRENDER ROJO 2
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  CALL RETARDO
	  BCF PORTB,0 ;APAGAR VERDE 1
	  BCF PORTB,5 ;APAGAR ROJO 2

	  BSF PORTB, 1 ;PRENDER AMARILLO 1
	  BSF PORTB, 5 ;PRENDER ROJO 2
	  CALL RETARDO 
	  CALL RETARDO
	  BCF PORTB, 1 ; APAGAR AMARILLO 1
	  BCF PORTB, 5 ;APAGAR ROJO 2
	  GOTO INICIO
	  
	  
RETARDO 
   MOVLW  0Xac
   MOVWF D1
   MOVLW 0X13
   MOVWF D2
   MOVLW 0X06
   MOVWF D3
   
 LOOP
   DECFSZ D1,1
   GOTO LOOP
   DECFSZ D2,1
   GOTO LOOP
   DECFSZ D3,1
   GOTO LOOP
   NOP
   RETURN 
   
   END